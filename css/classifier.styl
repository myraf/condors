// TODO: Update haw's version of stylus and use a hash.
TAG_COLOR_NAMES = 'black' 'white' 'red' 'orange' 'yellow' 'green' 'blue' 'purple'
TAG_COLORS = black white red orange yellow green blue purple

.classifier
  .subject
    background: DARK_GRAY
    color: white
    display: table

  .image-container
    display: table-cell
    vertical-align: middle
    width: 640px

    .marking-surface
      height: 512px
      width: 640px
      max-width: 100%

    .marking-tool-root
      // Hack to prevent nib's opacity mixin property from overriding the filter property.
      OPACITY = 'opacity '
      {OPACITY}: 1

  .details-editor
    display: table-cell
    padding: 10px 30px
    position: relative
    text-align: center
    text-shadow: 0 1px 1px black
    vertical-align: middle

  .pointer-icon
    color: lighten(DARK_GRAY, 10%)
    font-size: 150px
    text-shadow: 0 -1px 1px rgba(black, 0.5)

  button[name="unchoose-animal"]
    width: 1.5em

  .animal-preview
    border-radius: 50%
    height: 30px
    margin-right: 10px
    vertical-align: middle

  &[data-state*="what-kind"]
    button[name="unchoose-animal"]
      display: none

    .animal-preview
      height: 150px

    .animal-label
      display: none

  button[name="finish-subject"],
  button[name="finish-selection"]
    @extends #_STANDARD_BUTTON
    background: rgba(black, 0.5)

  button[name="choose-animal"],
  button[name="proximity"]
    @extends #_STANDARD_BUTTON
    background: rgba(black, 0.5)
    display: block
    margin-bottom: 3px
    width: 100%

    &.selected
      background: rgba(MEDIUM_GRAY)

  button[name="confirm-animal"]
    @extends #_STANDARD_BUTTON
    background: rgba(black, 0.5)

  table
    border-collapse: collapse
    width: 100%

  th
    font-weight: normal
    padding: 5px 0

  td
    padding: 5px 0
    text-align: left

  input[name="label"]
    border: 0
    border-radius: 5px
    box-shadow: 0 1px 3px 0px rgba(black, 0.5) inset
    font-size: 2em
    text-align: center
    width: 100px

  button[name="tag-color"]
    height: 1.5em
    overflow: hidden
    width: 1.5em

    &[value]
      border: 2px solid white
      border-radius: 50%
      color: transparent

      &:not(.selected)
        transform: scale(0.67)

    for name, i in TAG_COLOR_NAMES
      &[value={s('"%s"', unquote(name))}]
        background: TAG_COLORS[i]

  button[name="dots"]
    height: 1.5em
    overflow: hidden
    width: 1.5em

    &[value]
      border: 2px solid white
      border-radius: 50%
      color: transparent

      &:not(.selected)
        transform: scale(0.67)

      &.selected
        background: rgba(white, 0.5)
