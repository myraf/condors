// TODO: Update haw's version of stylus and use a hash.
TAG_COLOR_NAMES = 'black' 'white' 'red' 'orange' 'yellow' 'green' 'blue' 'purple'
TAG_COLORS = black white red orange yellow green blue purple

.classifier
  .subject
    display: table
    height: 640px

  .image-container
    display: table-cell
    vertical-align: middle
    width: 640px

    .marking-surface
      display: block
      width: 100%

      svg
        display: block
        width: 100%

    .marking-tool-root
      // Hack to prevent nib's opacity mixin property from overriding the filter property.
      OPACITY = 'opacity '
      {OPACITY}: 1

  .subject-options
    color: white
    text-shadow: 0 0 1px black, 0 0 2px black, 0 0 2px black

  .subject-option
    font-size: 18px
    padding: 0.5em

    &.selected
      color: yellow

  .details-editor
    display: table-cell
    padding: 10px 30px
    position: relative
    text-align: center
    vertical-align: top

  .pointer-icon
    color: rgba(DARK_GRAY, 0.1)
    font-size: 150px

  button[name="unchoose-animal"]
    font-size: 12px
    left: 30px
    padding: 0.25em 1em
    position: absolute
    top: 20px

  .animal-preview
    border-radius: 50%
    height: 30px
    vertical-align: middle
    transition: height 0.25s, width 0.25s

  .animal-label
    font-size: 12px
    font-weight: bold
    letter-spacing: 2px
    margin: 0.5em 0 2em
    text-transform: uppercase
    transition: font-size 0.25s, margin-top 0.25s

  &[data-state*="what-kind"]
    button[name="unchoose-animal"]
      display: none

    .animal-preview
      height: 150px

    .animal-label
      font-size: 16px
      margin-top: 1em

  button[name="finish-subject"],
  button[name="finish-selection"],
  button[name="confirm-animal"]
    @extends #_STANDARD_BUTTON
    background: BLUEISH
    border: 0
    bottom: 0
    color: white
    display: block
    left: 50%
    margin: 2em auto 0
    padding: 1em 0
    position: absolute
    transform: translateX(-50%)
    width: 80% // Eyeball this against the choose-animal buttons

  button[name="choose-animal"],
  button[name="proximity"]
    @extends #_STANDARD_BUTTON
    border-color: LIGHT_GRAY
    color: LIGHT_GRAY
    font-size: 14px
    margin: 5px 3px
    overflow: hidden
    text-overflow: ellipsis
    white-space: nowrap

    &:active,
    &.selected
      background: LIGHT_GRAY
      border-color: transparent
      color: white

  button[name="choose-animal"]
    padding-left: 0
    padding-right: 0
    width: 45%

  fieldset
    border: 0
    margin: 0.5em 0

  legend
    color: MEDIUM_GRAY
    font-size: 12px
    letter-spacing: 1px
    text-transform: uppercase

  input[name="label"]
    border: 1px solid LIGHT_GRAY
    border-radius: 5px
    box-shadow: 0 1px 3px 0px rgba(black, 0.5) inset
    font-size: 2em
    text-align: center
    width: 150px

  button[name="tag-color"],
  button[name="dots"]
    border-radius: 50%
    box-sizing: border-box
    color: LIGHT_GRAY
    height: 15px
    line-height: 0
    margin: 0 5px
    overflow: hidden
    vertical-align: middle
    width: 15px

    &:not([value])
      font-size: 20px

    &[value]
      color: transparent

  button[name="tag-color"]
    &[value].selected
        transform: scale(1.5)

    for name, i in TAG_COLOR_NAMES
      &[value={s('"%s"', unquote(name))}]
        background: TAG_COLORS[i]

    &[value="white"]
      border: 1px solid LIGHT_GRAY

  button[name="dots"]
    &[value]
      border: 2px solid LIGHT_GRAY

      &.selected
        background: LIGHT_GRAY

  label
    display: inline-block

    & + label
      margin-left: 2em

  button[name="proximity"]
    width: 92.5%
